(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[698],{6233:(e,t,s)=>{"use strict";s.d(t,{M3:()=>r,M4:()=>d,bi:()=>m,oL:()=>c,oe:()=>o,tP:()=>x});let a=()=>{let e=sessionStorage.getItem("sisu_session_id");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),sessionStorage.setItem("sisu_session_id",e)),e},n=()=>({userAgent:"undefined"!=typeof navigator?navigator.userAgent:"",referrer:"undefined"!=typeof document?document.referrer:"",url:window.location.href,sessionId:a()}),l=e=>{try{let t=n(),s=JSON.parse(localStorage.getItem("sisu_analytics")||"[]"),a={...e,...t,timestamp:e.timestamp||new Date().toISOString(),id:"event_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))};s.push(a),s.length>500&&s.splice(0,s.length-500),localStorage.setItem("sisu_analytics",JSON.stringify(s)),"page_view"===e.event&&i(e.page||"unknown")}catch(e){}},i=e=>{try{let t=JSON.parse(sessionStorage.getItem("sisu_session_views")||"[]");t.find(t=>t.page===e&&Date.now()-t.timestamp<3e4)||(t.push({page:e,timestamp:Date.now(),sessionId:a()}),t.length>50&&t.splice(0,t.length-50),sessionStorage.setItem("sisu_session_views",JSON.stringify(t)))}catch(e){}},r=(e,t,s,a)=>{l({event:"email_signup",email:e,source:t,page:s,data:a})},c=(e,t,s,a)=>{l({event:"contact_form_submit",email:e,source:s,page:"contact",data:{name:t,subject:s,...a}})},o=(e,t)=>{l({event:"page_view",page:e,data:t})},d=(e,t)=>{l({event:"form_start",source:e,page:t,data:{formType:e}})},m=(e,t,s)=>{l({event:"form_abandon",source:e,page:t,data:{formType:e,fieldsCompleted:s}})},x=()=>{try{let e=JSON.parse(localStorage.getItem("sisu_analytics")||"[]"),t=Date.now(),s=t-864e5,a=t-6048e5,n=e.filter(e=>new Date(e.timestamp||"").getTime()>s),l=e.filter(e=>new Date(e.timestamp||"").getTime()>a);return{total:{events:e.length,emailSignups:e.filter(e=>"email_signup"===e.event).length,contactForms:e.filter(e=>"contact_form_submit"===e.event).length,pageViews:e.filter(e=>"page_view"===e.event).length,interactions:e.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(e.map(e=>e.sessionId)).size},daily:{events:n.length,emailSignups:n.filter(e=>"email_signup"===e.event).length,contactForms:n.filter(e=>"contact_form_submit"===e.event).length,pageViews:n.filter(e=>"page_view"===e.event).length,interactions:n.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(n.map(e=>e.sessionId)).size},weekly:{events:l.length,emailSignups:l.filter(e=>"email_signup"===e.event).length,contactForms:l.filter(e=>"contact_form_submit"===e.event).length,pageViews:l.filter(e=>"page_view"===e.event).length,interactions:l.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(l.map(e=>e.sessionId)).size}}}catch(e){return null}}},7220:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});var a=s(5155),n=s(2115),l=s(3655),i=s(6233);function r(){let[e,t]=(0,n.useState)([]),[s,r]=(0,n.useState)(!1),[c,o]=(0,n.useState)(""),[d,m]=(0,n.useState)(null);(0,n.useEffect)(()=>{s&&(t(JSON.parse(localStorage.getItem("sisu_analytics")||"[]").reverse()),m((0,i.tP)()))},[s]);let x=e.filter(e=>"email_signup"===e.event),g=e.filter(e=>"contact_form_submit"===e.event),h=e.filter(e=>"page_view"===e.event);return s?(0,a.jsx)(l.A,{title:"Analytics Dashboard",description:"Sisu Speak signup and engagement tracking",children:(0,a.jsxs)("div",{className:"max-w-6xl mx-auto px-4 py-8",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Email Signups"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#7388a5]",children:(null==d?void 0:d.total.emailSignups)||x.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total waitlist subscribers"}),d&&(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",d.daily.emailSignups," today"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Contact Forms"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#a3c2c8]",children:(null==d?void 0:d.total.contactForms)||g.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Contact submissions"}),d&&(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",d.daily.contactForms," today"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Page Views"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#7388a5]",children:(null==d?void 0:d.total.pageViews)||h.length}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Total page views"}),d&&(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",d.daily.pageViews," today"]})]}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Unique Sessions"}),(0,a.jsx)("p",{className:"text-3xl font-bold text-[#7388a5]",children:(null==d?void 0:d.total.uniqueSessions)||0}),(0,a.jsx)("p",{className:"text-sm text-gray-500",children:"Unique visitors"}),d&&(0,a.jsxs)("p",{className:"text-xs text-green-600 mt-1",children:["+",d.daily.uniqueSessions," today"]})]})]}),(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)("button",{onClick:()=>{let t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),s=URL.createObjectURL(t),a=document.createElement("a");a.href=s,a.download="sisu-analytics-".concat(new Date().toISOString().split("T")[0],".json"),a.click()},className:"bg-[#7388a5] text-white px-6 py-3 rounded-lg hover:bg-[#7388a5]/90 transition-colors",children:"Export Data (JSON)"})}),(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Recent Activity"}),(0,a.jsx)("div",{className:"overflow-x-auto",children:(0,a.jsxs)("table",{className:"w-full text-sm",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{className:"border-b",children:[(0,a.jsx)("th",{className:"text-left py-2",children:"Timestamp"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Event"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Email"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Source"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Page"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Session"}),(0,a.jsx)("th",{className:"text-left py-2",children:"Details"})]})}),(0,a.jsx)("tbody",{children:e.slice(0,50).map((e,t)=>(0,a.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,a.jsx)("td",{className:"py-2",children:new Date(e.timestamp).toLocaleString()}),(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("span",{className:"px-2 py-1 rounded text-xs ".concat("email_signup"===e.event?"bg-[#7388a5]/20 text-[#7388a5]":"contact_form_submit"===e.event?"bg-[#a3c2c8]/20 text-[#7388a5]":"page_view"===e.event?"bg-blue-100 text-blue-800":"user_interaction"===e.event?"bg-purple-100 text-purple-800":"form_start"===e.event?"bg-yellow-100 text-yellow-800":"form_abandon"===e.event?"bg-red-100 text-red-800":"bg-gray-100 text-gray-800"),children:e.event.replace("_"," ")})}),(0,a.jsx)("td",{className:"py-2",children:e.email||"-"}),(0,a.jsx)("td",{className:"py-2",children:e.source||"-"}),(0,a.jsx)("td",{className:"py-2",children:e.page||"-"}),(0,a.jsx)("td",{className:"py-2",children:(0,a.jsx)("span",{className:"text-xs text-gray-500",children:e.sessionId?e.sessionId.slice(-8):"-"})}),(0,a.jsx)("td",{className:"py-2",children:e.data&&Object.keys(e.data).length>0&&(0,a.jsxs)("details",{className:"text-xs",children:[(0,a.jsx)("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-800",children:"View"}),(0,a.jsx)("pre",{className:"mt-1 text-xs bg-gray-50 p-2 rounded max-w-xs overflow-auto",children:JSON.stringify(e.data,null,2)})]})})]},e.id||t))})]})})]})]})}):(0,a.jsx)(l.A,{title:"Admin Dashboard",description:"Analytics and signup tracking",children:(0,a.jsx)("div",{className:"max-w-md mx-auto mt-20",children:(0,a.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8",children:[(0,a.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-6 text-center",children:"Admin Access"}),(0,a.jsxs)("form",{onSubmit:e=>{e.preventDefault(),"sisuspeak2024"===c?r(!0):alert("Incorrect password")},className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Password"}),(0,a.jsx)("input",{type:"password",id:"password",value:c,onChange:e=>o(e.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-[#7388a5] focus:border-[#7388a5] bg-white text-gray-900 placeholder-gray-500",placeholder:"Enter admin password",required:!0})]}),(0,a.jsx)("button",{type:"submit",className:"w-full bg-[#7388a5] text-white py-3 px-4 rounded-lg hover:bg-[#7388a5]/90 transition-colors",children:"Login"})]})]})})})}},9962:(e,t,s)=>{Promise.resolve().then(s.bind(s,7220))}},e=>{var t=t=>e(e.s=t);e.O(0,[204,711,592,433,655,441,684,358],()=>t(9962)),_N_E=e.O()}]);