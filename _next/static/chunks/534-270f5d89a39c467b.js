"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[534],{3590:(e,t,i)=>{i.d(t,{Dx:()=>I});class s{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}let a={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!=typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},n=e=>e?"string"==typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},o=async(e,t,i={})=>{let n=await fetch(a.origin+e,{method:"POST",headers:i,body:t}),o=await n.text(),r=new s(n.status,o);if(n.ok)return r;throw r},r=(e,t,i)=>{if(!e||"string"!=typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!=typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!i||"string"!=typeof i)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},l=e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},c=e=>e.webdriver||!e.languages||0===e.languages.length,m=()=>new s(451,"Unavailable For Headless Browser"),u=(e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!=typeof t)throw"The BlockList watchVariable has to be a string"},g=e=>!e.list?.length||!e.watchVariable,p=(e,t)=>e instanceof FormData?e.get(t):e[t],h=(e,t)=>{if(g(e))return!1;u(e.list,e.watchVariable);let i=p(t,e.watchVariable);return"string"==typeof i&&e.list.includes(i)},d=()=>new s(403,"Forbidden"),f=(e,t)=>{if("number"!=typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!=typeof t)throw"The LimitRate ID has to be a non-empty string"},w=async(e,t,i)=>{let s=Number(await i.get(e)||0);return t-Date.now()+s},y=async(e,t,i)=>{if(!t.throttle||!i)return!1;f(t.throttle,t.id);let s=t.id||e;return await w(s,t.throttle,i)>0||(await i.set(s,Date.now().toString()),!1)},v=()=>new s(429,"Too Many Requests"),_=e=>{if(!e||"FORM"!==e.nodeName)throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},b=e=>"string"==typeof e?document.querySelector(e):e,S={init:(e,t="https://api.emailjs.com")=>{if(!e)return;let i=n(e);a.publicKey=i.publicKey,a.blockHeadless=i.blockHeadless,a.storageProvider=i.storageProvider,a.blockList=i.blockList,a.limitRate=i.limitRate,a.origin=i.origin||t},send:async(e,t,i,s)=>{let u=n(s),g=u.publicKey||a.publicKey,p=u.blockHeadless||a.blockHeadless,f=u.storageProvider||a.storageProvider,w={...a.blockList,...u.blockList},_={...a.limitRate,...u.limitRate};return p&&c(navigator)?Promise.reject(m()):(r(g,e,t),l(i),i&&h(w,i))?Promise.reject(d()):await y(location.pathname,_,f)?Promise.reject(v()):o("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:g,service_id:e,template_id:t,template_params:i}),{"Content-type":"application/json"})}},k=()=>{S.init("20_z-xj2NzRCRugP9")},T=async(e,t)=>{try{return k(),await S.send("service_usc26od","template_9dxuoup",{user_email:e,user_name:t||"Friend",to_email:e,to_name:t||"Friend",from_name:"Sisu Speak Team",reply_to:"hello@sisuspeak.com"}),!0}catch(e){return console.error("Failed to send welcome email:",e),!1}},j=async e=>{try{return(await fetch("https://formspree.io/f/mwpbkgao",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e,source:"Sisu Speak Welcome Email",type:"welcome_email",timestamp:new Date().toISOString(),_subject:"Welcome to Sisu Speak Waitlist! \uD83C\uDDEB\uD83C\uDDEE",_autoresponse:"\n          Tervetuloa! Welcome to the Sisu Speak family!\n\n          Thank you for joining our waitlist. You're now part of an exclusive group of Finnish language enthusiasts who will be the first to experience our revolutionary AI-powered learning platform.\n\n          What happens next?\n          • You'll receive early access when we launch\n          • Exclusive updates on our development progress\n          • Special launch pricing just for waitlist members\n          • Tips and resources for Finnish language learning\n\n          We're working hard to bring you the most effective and engaging way to learn language through AI conversation. Your journey to fluency starts here!\n\n          Kiitos ja n\xe4hd\xe4\xe4n pian! (Thank you and see you soon!)\n\n          The Sisu Speak Team\n          https://sisuspeak.com\n        ",_replyto:"hello@sisuspeak.com"})})).ok}catch(e){return console.error("Fallback welcome email failed:",e),!1}},I=async(e,t)=>!!await T(e,t)||await j(e)},6233:(e,t,i)=>{i.d(t,{M3:()=>r,M4:()=>m,bi:()=>u,oL:()=>l,oe:()=>c,tP:()=>g});let s=()=>{let e=sessionStorage.getItem("sisu_session_id");return e||(e="session_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9)),sessionStorage.setItem("sisu_session_id",e)),e},a=()=>({userAgent:"undefined"!=typeof navigator?navigator.userAgent:"",referrer:"undefined"!=typeof document?document.referrer:"",url:window.location.href,sessionId:s()}),n=e=>{try{let t=a(),i=JSON.parse(localStorage.getItem("sisu_analytics")||"[]"),s={...e,...t,timestamp:e.timestamp||new Date().toISOString(),id:"event_".concat(Date.now(),"_").concat(Math.random().toString(36).substr(2,9))};i.push(s),i.length>500&&i.splice(0,i.length-500),localStorage.setItem("sisu_analytics",JSON.stringify(i)),"page_view"===e.event&&o(e.page||"unknown")}catch(e){}},o=e=>{try{let t=JSON.parse(sessionStorage.getItem("sisu_session_views")||"[]");t.find(t=>t.page===e&&Date.now()-t.timestamp<3e4)||(t.push({page:e,timestamp:Date.now(),sessionId:s()}),t.length>50&&t.splice(0,t.length-50),sessionStorage.setItem("sisu_session_views",JSON.stringify(t)))}catch(e){}},r=(e,t,i,s)=>{n({event:"email_signup",email:e,source:t,page:i,data:s})},l=(e,t,i,s)=>{n({event:"contact_form_submit",email:e,source:i,page:"contact",data:{name:t,subject:i,...s}})},c=(e,t)=>{n({event:"page_view",page:e,data:t})},m=(e,t)=>{n({event:"form_start",source:e,page:t,data:{formType:e}})},u=(e,t,i)=>{n({event:"form_abandon",source:e,page:t,data:{formType:e,fieldsCompleted:i}})},g=()=>{try{let e=JSON.parse(localStorage.getItem("sisu_analytics")||"[]"),t=Date.now(),i=t-864e5,s=t-6048e5,a=e.filter(e=>new Date(e.timestamp||"").getTime()>i),n=e.filter(e=>new Date(e.timestamp||"").getTime()>s);return{total:{events:e.length,emailSignups:e.filter(e=>"email_signup"===e.event).length,contactForms:e.filter(e=>"contact_form_submit"===e.event).length,pageViews:e.filter(e=>"page_view"===e.event).length,interactions:e.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(e.map(e=>e.sessionId)).size},daily:{events:a.length,emailSignups:a.filter(e=>"email_signup"===e.event).length,contactForms:a.filter(e=>"contact_form_submit"===e.event).length,pageViews:a.filter(e=>"page_view"===e.event).length,interactions:a.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(a.map(e=>e.sessionId)).size},weekly:{events:n.length,emailSignups:n.filter(e=>"email_signup"===e.event).length,contactForms:n.filter(e=>"contact_form_submit"===e.event).length,pageViews:n.filter(e=>"page_view"===e.event).length,interactions:n.filter(e=>"user_interaction"===e.event).length,uniqueSessions:new Set(n.map(e=>e.sessionId)).size}}}catch(e){return null}}}}]);